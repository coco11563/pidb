import java.io.File

import cn.pidb.functor.ExternalProcessFunctor
import cn.pidb.util.StreamUtils._
import org.junit.Test
import org.neo4j.values.storable.Blob

/**
  * Created by bluejoe on 2018/12/1.
  */
object AipmTest {
  val cmds = Array("/Library/Java/JavaVirtualMachines/jdk1.8.0_144.jdk/Contents/Home/bin/java",
    "-Didea.launcher.port=7532",
    "-Didea.launcher.bin.path=/Applications/IntelliJ IDEA 15.app/Contents/bin",
    "-Dfile.encoding=UTF-8", "-classpath",
    "/Library/Java/JavaVirtualMachines/jdk1.8.0_144.jdk/Contents/Home/jre/lib/charsets.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_144.jdk/Contents/Home/jre/lib/deploy.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_144.jdk/Contents/Home/jre/lib/ext/cldrdata.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_144.jdk/Contents/Home/jre/lib/ext/dnsns.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_144.jdk/Contents/Home/jre/lib/ext/jaccess.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_144.jdk/Contents/Home/jre/lib/ext/jfxrt.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_144.jdk/Contents/Home/jre/lib/ext/localedata.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_144.jdk/Contents/Home/jre/lib/ext/nashorn.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_144.jdk/Contents/Home/jre/lib/ext/sunec.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_144.jdk/Contents/Home/jre/lib/ext/sunjce_provider.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_144.jdk/Contents/Home/jre/lib/ext/sunpkcs11.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_144.jdk/Contents/Home/jre/lib/ext/zipfs.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_144.jdk/Contents/Home/jre/lib/javaws.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_144.jdk/Contents/Home/jre/lib/jce.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_144.jdk/Contents/Home/jre/lib/jfr.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_144.jdk/Contents/Home/jre/lib/jfxswt.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_144.jdk/Contents/Home/jre/lib/jsse.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_144.jdk/Contents/Home/jre/lib/management-agent.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_144.jdk/Contents/Home/jre/lib/plugin.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_144.jdk/Contents/Home/jre/lib/resources.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_144.jdk/Contents/Home/jre/lib/rt.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_144.jdk/Contents/Home/lib/ant-javafx.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_144.jdk/Contents/Home/lib/dt.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_144.jdk/Contents/Home/lib/javafx-mx.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_144.jdk/Contents/Home/lib/jconsole.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_144.jdk/Contents/Home/lib/packager.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_144.jdk/Contents/Home/lib/sa-jdi.jar:/Library/Java/JavaVirtualMachines/jdk1.8.0_144.jdk/Contents/Home/lib/tools.jar:/Users/bluejoe/IdeaProjects/pidb/target/test-classes:/Users/bluejoe/IdeaProjects/pidb/target/classes:/usr/local/scala-2.11.8/lib/scala-actors-2.11.0.jar:/usr/local/scala-2.11.8/lib/scala-actors-migration_2.11-1.1.0.jar:/usr/local/scala-2.11.8/lib/scala-library.jar:/usr/local/scala-2.11.8/lib/scala-parser-combinators_2.11-1.0.4.jar:/usr/local/scala-2.11.8/lib/scala-reflect.jar:/usr/local/scala-2.11.8/lib/scala-swing_2.11-1.0.2.jar:/usr/local/scala-2.11.8/lib/scala-xml_2.11-1.0.4.jar:/Users/bluejoe/.m2/repository/junit/junit/4.10/junit-4.10.jar:/Users/bluejoe/.m2/repository/org/hamcrest/hamcrest-core/1.1/hamcrest-core-1.1.jar:/Users/bluejoe/.m2/repository/eu/medsea/mimeutil/mime-util/2.1.3/mime-util-2.1.3.jar:/Users/bluejoe/.m2/repository/org/slf4j/slf4j-api/1.5.6/slf4j-api-1.5.6.jar:/Users/bluejoe/.m2/repository/org/slf4j/slf4j-log4j12/1.5.6/slf4j-log4j12-1.5.6.jar:/Users/bluejoe/.m2/repository/net/sf/jmimemagic/jmimemagic/0.1.3/jmimemagic-0.1.3.jar:/Users/bluejoe/.m2/repository/commons-logging/commons-logging/1.0.4/commons-logging-1.0.4.jar:/Users/bluejoe/.m2/repository/oro/oro/2.0.8/oro-2.0.8.jar:/Users/bluejoe/.m2/repository/xerces/xercesImpl/2.4.0/xercesImpl-2.4.0.jar:/Users/bluejoe/.m2/repository/xml-apis/xml-apis/1.0.b2/xml-apis-1.0.b2.jar:/Users/bluejoe/.m2/repository/xml-apis/xmlParserAPIs/2.0.2/xmlParserAPIs-2.0.2.jar:/Users/bluejoe/.m2/repository/org/codehaus/jackson/jackson-xc/1.5.2/jackson-xc-1.5.2.jar:/Users/bluejoe/.m2/repository/org/neo4j/neo4j/3.4.0/neo4j-3.4.0.jar:/Users/bluejoe/.m2/repository/org/neo4j/neo4j-kernel/3.4.0/neo4j-kernel-3.4.0.jar:/Users/bluejoe/.m2/repository/org/neo4j/neo4j-graphdb-api/3.4.0/neo4j-graphdb-api-3.4.0.jar:/Users/bluejoe/.m2/repository/org/neo4j/neo4j-resource/3.4.0/neo4j-resource-3.4.0.jar:/Users/bluejoe/.m2/repository/org/neo4j/neo4j-procedure-api/3.4.0/neo4j-procedure-api-3.4.0.jar:/Users/bluejoe/.m2/repository/org/neo4j/neo4j-kernel-api/3.4.0/neo4j-kernel-api-3.4.0.jar:/Users/bluejoe/.m2/repository/org/neo4j/neo4j-common/3.4.0/neo4j-common-3.4.0.jar:/Users/bluejoe/.m2/repository/org/neo4j/neo4j-collections/3.4.0/neo4j-collections-3.4.0.jar:/Users/bluejoe/.m2/repository/org/neo4j/neo4j-primitive-collections/3.4.0/neo4j-primitive-collections-3.4.0.jar:/Users/bluejoe/.m2/repository/org/neo4j/neo4j-io/3.4.0/neo4j-io-3.4.0.jar:/Users/bluejoe/.m2/repository/org/neo4j/neo4j-csv/3.4.0/neo4j-csv-3.4.0.jar:/Users/bluejoe/.m2/repository/org/neo4j/neo4j-logging/3.4.0/neo4j-logging-3.4.0.jar:/Users/bluejoe/.m2/repository/org/neo4j/neo4j-lucene-upgrade/3.4.0/neo4j-lucene-upgrade-3.4.0.jar:/Users/bluejoe/.m2/repository/org/apache/lucene/lucene-backward-codecs/5.5.0/lucene-backward-codecs-5.5.0.jar:/Users/bluejoe/.m2/repository/org/neo4j/neo4j-configuration/3.4.0/neo4j-configuration-3.4.0.jar:/Users/bluejoe/.m2/repository/org/neo4j/neo4j-index/3.4.0/neo4j-index-3.4.0.jar:/Users/bluejoe/.m2/repository/org/neo4j/neo4j-spatial-index/3.4.0/neo4j-spatial-index-3.4.0.jar:/Users/bluejoe/.m2/repository/org/neo4j/neo4j-lucene-index/3.4.0/neo4j-lucene-index-3.4.0.jar:/Users/bluejoe/.m2/repository/org/apache/lucene/lucene-analyzers-common/5.5.5/lucene-analyzers-common-5.5.5.jar:/Users/bluejoe/.m2/repository/org/apache/lucene/lucene-core/5.5.5/lucene-core-5.5.5.jar:/Users/bluejoe/.m2/repository/org/apache/lucene/lucene-queryparser/5.5.5/lucene-queryparser-5.5.5.jar:/Users/bluejoe/.m2/repository/org/apache/lucene/lucene-codecs/5.5.5/lucene-codecs-5.5.5.jar:/Users/bluejoe/.m2/repository/org/neo4j/neo4j-graph-algo/3.4.0/neo4j-graph-algo-3.4.0.jar:/Users/bluejoe/.m2/repository/org/neo4j/neo4j-udc/3.4.0/neo4j-udc-3.4.0.jar:/Users/bluejoe/.m2/repository/org/neo4j/neo4j-cypher/3.4.0/neo4j-cypher-3.4.0.jar:/Users/bluejoe/.m2/repository/org/scala-lang/scala-library/2.11.12/scala-library-2.11.12.jar:/Users/bluejoe/.m2/repository/org/scala-lang/scala-reflect/2.11.12/scala-reflect-2.11.12.jar:/Users/bluejoe/.m2/repository/org/neo4j/neo4j-graph-matching/3.1.6/neo4j-graph-matching-3.1.6.jar:/Users/bluejoe/.m2/repository/org/neo4j/neo4j-codegen/3.4.0/neo4j-codegen-3.4.0.jar:/Users/bluejoe/.m2/repository/org/ow2/asm/asm/6.0/asm-6.0.jar:/Users/bluejoe/.m2/repository/org/ow2/asm/asm-util/6.0/asm-util-6.0.jar:/Users/bluejoe/.m2/repository/org/ow2/asm/asm-analysis/6.0/asm-analysis-6.0.jar:/Users/bluejoe/.m2/repository/org/ow2/asm/asm-tree/6.0/asm-tree-6.0.jar:/Users/bluejoe/.m2/repository/org/neo4j/neo4j-cypher-compiler-2.3/2.3.12/neo4j-cypher-compiler-2.3-2.3.12.jar:/Users/bluejoe/.m2/repository/org/neo4j/neo4j-cypher-frontend-2.3/2.3.12/neo4j-cypher-frontend-2.3-2.3.12.jar:/Users/bluejoe/.m2/repository/com/googlecode/concurrentlinkedhashmap/concurrentlinkedhashmap-lru/1.4.2/concurrentlinkedhashmap-lru-1.4.2.jar:/Users/bluejoe/.m2/repository/org/neo4j/neo4j-cypher-compiler-3.1/3.1.8/neo4j-cypher-compiler-3.1-3.1.8.jar:/Users/bluejoe/.m2/repository/org/neo4j/neo4j-cypher-frontend-3.1/3.1.8/neo4j-cypher-frontend-3.1-3.1.8.jar:/Users/bluejoe/.m2/repository/com/github/ben-manes/caffeine/caffeine/2.3.3/caffeine-2.3.3.jar:/Users/bluejoe/.m2/repository/org/neo4j/neo4j-cypher-compiler-3.3/3.3.5/neo4j-cypher-compiler-3.3-3.3.5.jar:/Users/bluejoe/.m2/repository/org/neo4j/neo4j-cypher-frontend-3.3/3.3.5/neo4j-cypher-frontend-3.3-3.3.5.jar:/Users/bluejoe/.m2/repository/org/neo4j/neo4j-cypher-ir-3.3/3.3.5/neo4j-cypher-ir-3.3-3.3.5.jar:/Users/bluejoe/.m2/repository/org/neo4j/neo4j-cypher-logical-plans-3.3/3.3.5/neo4j-cypher-logical-plans-3.3-3.3.5.jar:/Users/bluejoe/.m2/repository/org/neo4j/neo4j-cypher-util-3.4/3.4.0/neo4j-cypher-util-3.4-3.4.0.jar:/Users/bluejoe/.m2/repository/org/neo4j/neo4j-cypher-planner-3.4/3.4.0/neo4j-cypher-planner-3.4-3.4.0.jar:/Users/bluejoe/.m2/repository/org/neo4j/openCypher-frontend-1/3.4.0/openCypher-frontend-1-3.4.0.jar:/Users/bluejoe/.m2/repository/org/neo4j/neo4j-cypher-expression-3.4/3.4.0/neo4j-cypher-expression-3.4-3.4.0.jar:/Users/bluejoe/.m2/repository/org/neo4j/neo4j-cypher-ir-3.4/3.4.0/neo4j-cypher-ir-3.4-3.4.0.jar:/Users/bluejoe/.m2/repository/org/neo4j/neo4j-cypher-logical-plans-3.4/3.4.0/neo4j-cypher-logical-plans-3.4-3.4.0.jar:/Users/bluejoe/.m2/repository/org/neo4j/neo4j-cypher-planner-spi-3.4/3.4.0/neo4j-cypher-planner-spi-3.4-3.4.0.jar:/Users/bluejoe/.m2/repository/org/neo4j/neo4j-cypher-runtime-util/3.4.0/neo4j-cypher-runtime-util-3.4.0.jar:/Users/bluejoe/.m2/repository/org/neo4j/neo4j-cypher-interpreted-runtime/3.4.0/neo4j-cypher-interpreted-runtime-3.4.0.jar:/Users/bluejoe/.m2/repository/org/parboiled/parboiled-scala_2.11/1.1.7/parboiled-scala_2.11-1.1.7.jar:/Users/bluejoe/.m2/repository/org/parboiled/parboiled-core/1.1.7/parboiled-core-1.1.7.jar:/Users/bluejoe/.m2/repository/net/sf/opencsv/opencsv/2.3/opencsv-2.3.jar:/Users/bluejoe/.m2/repository/org/neo4j/neo4j-jmx/3.4.0/neo4j-jmx-3.4.0.jar:/Users/bluejoe/.m2/repository/org/neo4j/neo4j-consistency-check/3.4.0/neo4j-consistency-check-3.4.0.jar:/Users/bluejoe/.m2/repository/org/neo4j/app/neo4j-server/3.4.0/neo4j-server-3.4.0.jar:/Users/bluejoe/.m2/repository/org/neo4j/neo4j-security/3.4.0/neo4j-security-3.4.0.jar:/Users/bluejoe/.m2/repository/org/neo4j/neo4j-dbms/3.4.0/neo4j-dbms-3.4.0.jar:/Users/bluejoe/.m2/repository/org/neo4j/neo4j-import-tool/3.4.0/neo4j-import-tool-3.4.0.jar:/Users/bluejoe/.m2/repository/org/jprocesses/jProcesses/1.6.4/jProcesses-1.6.4.jar:/Users/bluejoe/.m2/repository/com/profesorfalken/WMI4Java/1.6.1/WMI4Java-1.6.1.jar:/Users/bluejoe/.m2/repository/com/profesorfalken/jPowerShell/1.9/jPowerShell-1.9.jar:/Users/bluejoe/.m2/repository/org/apache/commons/commons-compress/1.16.1/commons-compress-1.16.1.jar:/Users/bluejoe/.m2/repository/org/objenesis/objenesis/2.6/objenesis-2.6.jar:/Users/bluejoe/.m2/repository/org/neo4j/neo4j-command-line/3.4.0/neo4j-command-line-3.4.0.jar:/Users/bluejoe/.m2/repository/org/apache/commons/commons-text/1.3/commons-text-1.3.jar:/Users/bluejoe/.m2/repository/org/neo4j/server-api/3.4.0/server-api-3.4.0.jar:/Users/bluejoe/.m2/repository/org/neo4j/3rdparty/javax/ws/rs/jsr311-api/1.1.2.r612/jsr311-api-1.1.2.r612.jar:/Users/bluejoe/.m2/repository/org/neo4j/client/neo4j-browser/3.1.12/neo4j-browser-3.1.12.jar:/Users/bluejoe/.m2/repository/org/neo4j/neo4j-shell/3.4.0/neo4j-shell-3.4.0.jar:/Users/bluejoe/.m2/repository/jline/jline/2.12/jline-2.12.jar:/Users/bluejoe/.m2/repository/org/eclipse/jetty/jetty-webapp/9.4.8.v20171121/jetty-webapp-9.4.8.v20171121.jar:/Users/bluejoe/.m2/repository/org/eclipse/jetty/jetty-xml/9.4.8.v20171121/jetty-xml-9.4.8.v20171121.jar:/Users/bluejoe/.m2/repository/com/sun/jersey/jersey-server/1.19.3/jersey-server-1.19.3.jar:/Users/bluejoe/.m2/repository/com/sun/jersey/jersey-core/1.19.3/jersey-core-1.19.3.jar:/Users/bluejoe/.m2/repository/com/sun/jersey/jersey-servlet/1.19.3/jersey-servlet-1.19.3.jar:/Users/bluejoe/.m2/repository/commons-configuration/commons-configuration/1.10/commons-configuration-1.10.jar:/Users/bluejoe/.m2/repository/commons-lang/commons-lang/2.6/commons-lang-2.6.jar:/Users/bluejoe/.m2/repository/org/mozilla/rhino/1.7.9/rhino-1.7.9.jar:/Users/bluejoe/.m2/repository/org/bouncycastle/bcprov-jdk15on/1.59/bcprov-jdk15on-1.59.jar:/Users/bluejoe/.m2/repository/org/bouncycastle/bcpkix-jdk15on/1.59/bcpkix-jdk15on-1.59.jar:/Users/bluejoe/.m2/repository/org/neo4j/neo4j-bolt/3.4.0/neo4j-bolt-3.4.0.jar:/Users/bluejoe/.m2/repository/org/neo4j/neo4j-values/3.4.0/neo4j-values-3.4.0.jar:/Users/bluejoe/.m2/repository/org/neo4j/neo4j-ssl/3.4.0/neo4j-ssl-3.4.0.jar:/Users/bluejoe/.m2/repository/io/netty/netty-all/4.1.24.Final/netty-all-4.1.24.Final.jar:/Users/bluejoe/.m2/repository/org/codehaus/jackson/jackson-mapper-asl/1.9.13/jackson-mapper-asl-1.9.13.jar:/Users/bluejoe/.m2/repository/org/apache/commons/commons-lang3/3.7/commons-lang3-3.7.jar:/Users/bluejoe/.m2/repository/org/neo4j/driver/neo4j-java-driver/1.6.0/neo4j-java-driver-1.6.0.jar:/Users/bluejoe/.m2/repository/org/neo4j/test/neo4j-harness/3.4.0/neo4j-harness-3.4.0.jar:/Users/bluejoe/.m2/repository/org/neo4j/neo4j-common/3.4.0/neo4j-common-3.4.0-tests.jar:/Users/bluejoe/.m2/repository/org/neo4j/neo4j-kernel/3.4.0/neo4j-kernel-3.4.0-tests.jar:/Users/bluejoe/.m2/repository/org/neo4j/neo4j-io/3.4.0/neo4j-io-3.4.0-tests.jar:/Users/bluejoe/.m2/repository/org/neo4j/neo4j-unsafe/3.4.0/neo4j-unsafe-3.4.0.jar:/Users/bluejoe/.m2/repository/com/sun/jersey/jersey-client/1.19.3/jersey-client-1.19.3.jar:/Users/bluejoe/.m2/repository/org/neo4j/app/neo4j-server/3.4.0/neo4j-server-3.4.0-tests.jar:/Users/bluejoe/.m2/repository/org/apache/httpcomponents/httpclient/4.5.2/httpclient-4.5.2.jar:/Users/bluejoe/.m2/repository/org/apache/httpcomponents/httpcore/4.4.5/httpcore-4.4.5.jar:/Users/bluejoe/.m2/repository/commons-io/commons-io/2.6/commons-io-2.6.jar:/Users/bluejoe/.m2/repository/commons-codec/commons-codec/1.11/commons-codec-1.11.jar:/Users/bluejoe/.m2/repository/log4j/log4j/1.2.12/log4j-1.2.12.jar:/Users/bluejoe/.m2/repository/com/google/code/findbugs/jsr305/3.0.0/jsr305-3.0.0.jar:/Users/bluejoe/.m2/repository/org/apache/hbase/hbase-client/2.0.0/hbase-client-2.0.0.jar:/Users/bluejoe/.m2/repository/org/apache/hbase/thirdparty/hbase-shaded-protobuf/2.1.0/hbase-shaded-protobuf-2.1.0.jar:/Users/bluejoe/.m2/repository/org/apache/hbase/hbase-common/2.0.0/hbase-common-2.0.0.jar:/Users/bluejoe/.m2/repository/com/github/stephenc/findbugs/findbugs-annotations/1.3.9-1/findbugs-annotations-1.3.9-1.jar:/Users/bluejoe/.m2/repository/org/apache/hbase/hbase-hadoop-compat/2.0.0/hbase-hadoop-compat-2.0.0.jar:/Users/bluejoe/.m2/repository/org/apache/hbase/hbase-metrics-api/2.0.0/hbase-metrics-api-2.0.0.jar:/Users/bluejoe/.m2/repository/org/apache/hbase/hbase-hadoop2-compat/2.0.0/hbase-hadoop2-compat-2.0.0.jar:/Users/bluejoe/.m2/repository/org/apache/hbase/hbase-metrics/2.0.0/hbase-metrics-2.0.0.jar:/Users/bluejoe/.m2/repository/org/apache/hbase/hbase-protocol-shaded/2.0.0/hbase-protocol-shaded-2.0.0.jar:/Users/bluejoe/.m2/repository/org/apache/hbase/hbase-protocol/2.0.0/hbase-protocol-2.0.0.jar:/Users/bluejoe/.m2/repository/org/apache/hbase/thirdparty/hbase-shaded-miscellaneous/2.1.0/hbase-shaded-miscellaneous-2.1.0.jar:/Users/bluejoe/.m2/repository/com/google/protobuf/protobuf-java/2.5.0/protobuf-java-2.5.0.jar:/Users/bluejoe/.m2/repository/org/apache/hbase/thirdparty/hbase-shaded-netty/2.1.0/hbase-shaded-netty-2.1.0.jar:/Users/bluejoe/.m2/repository/org/apache/zookeeper/zookeeper/3.4.10/zookeeper-3.4.10.jar:/Users/bluejoe/.m2/repository/org/apache/htrace/htrace-core4/4.2.0-incubating/htrace-core4-4.2.0-incubating.jar:/Users/bluejoe/.m2/repository/org/jruby/jcodings/jcodings/1.0.18/jcodings-1.0.18.jar:/Users/bluejoe/.m2/repository/org/jruby/joni/joni/2.1.11/joni-2.1.11.jar:/Users/bluejoe/.m2/repository/io/dropwizard/metrics/metrics-core/3.2.1/metrics-core-3.2.1.jar:/Users/bluejoe/.m2/repository/org/apache/commons/commons-crypto/1.0.0/commons-crypto-1.0.0.jar:/Users/bluejoe/.m2/repository/com/fasterxml/jackson/core/jackson-databind/2.9.2/jackson-databind-2.9.2.jar:/Users/bluejoe/.m2/repository/com/fasterxml/jackson/core/jackson-annotations/2.9.0/jackson-annotations-2.9.0.jar:/Users/bluejoe/.m2/repository/com/fasterxml/jackson/core/jackson-core/2.9.2/jackson-core-2.9.2.jar:/Users/bluejoe/.m2/repository/org/apache/hadoop/hadoop-auth/2.7.4/hadoop-auth-2.7.4.jar:/Users/bluejoe/.m2/repository/org/apache/directory/server/apacheds-kerberos-codec/2.0.0-M15/apacheds-kerberos-codec-2.0.0-M15.jar:/Users/bluejoe/.m2/repository/org/apache/directory/server/apacheds-i18n/2.0.0-M15/apacheds-i18n-2.0.0-M15.jar:/Users/bluejoe/.m2/repository/org/apache/directory/api/api-asn1-api/1.0.0-M20/api-asn1-api-1.0.0-M20.jar:/Users/bluejoe/.m2/repository/org/apache/directory/api/api-util/1.0.0-M20/api-util-1.0.0-M20.jar:/Users/bluejoe/.m2/repository/org/apache/curator/curator-framework/2.7.1/curator-framework-2.7.1.jar:/Users/bluejoe/.m2/repository/org/apache/hadoop/hadoop-common/2.7.4/hadoop-common-2.7.4.jar:/Users/bluejoe/.m2/repository/org/apache/hadoop/hadoop-annotations/2.7.4/hadoop-annotations-2.7.4.jar:/Users/bluejoe/.m2/repository/com/google/guava/guava/11.0.2/guava-11.0.2.jar:/Users/bluejoe/.m2/repository/commons-cli/commons-cli/1.2/commons-cli-1.2.jar:/Users/bluejoe/.m2/repository/org/apache/commons/commons-math3/3.1.1/commons-math3-3.1.1.jar:/Users/bluejoe/.m2/repository/xmlenc/xmlenc/0.52/xmlenc-0.52.jar:/Users/bluejoe/.m2/repository/commons-httpclient/commons-httpclient/3.1/commons-httpclient-3.1.jar:/Users/bluejoe/.m2/repository/commons-net/commons-net/3.1/commons-net-3.1.jar:/Users/bluejoe/.m2/repository/commons-collections/commons-collections/3.2.2/commons-collections-3.2.2.jar:/Users/bluejoe/.m2/repository/org/mortbay/jetty/jetty-sslengine/6.1.26/jetty-sslengine-6.1.26.jar:/Users/bluejoe/.m2/repository/org/apache/avro/avro/1.7.4/avro-1.7.4.jar:/Users/bluejoe/.m2/repository/com/thoughtworks/paranamer/paranamer/2.3/paranamer-2.3.jar:/Users/bluejoe/.m2/repository/org/xerial/snappy/snappy-java/1.0.4.1/snappy-java-1.0.4.1.jar:/Users/bluejoe/.m2/repository/com/google/code/gson/gson/2.2.4/gson-2.2.4.jar:/Users/bluejoe/.m2/repository/com/jcraft/jsch/0.1.54/jsch-0.1.54.jar:/Users/bluejoe/.m2/repository/org/apache/curator/curator-client/2.7.1/curator-client-2.7.1.jar:/Users/bluejoe/.m2/repository/org/apache/curator/curator-recipes/2.7.1/curator-recipes-2.7.1.jar:/Users/bluejoe/.m2/repository/org/apache/yetus/audience-annotations/0.5.0/audience-annotations-0.5.0.jar:/Users/bluejoe/.m2/repository/org/eclipse/jetty/jetty-server/9.4.8.v20171121/jetty-server-9.4.8.v20171121.jar:/Users/bluejoe/.m2/repository/javax/servlet/javax.servlet-api/3.1.0/javax.servlet-api-3.1.0.jar:/Users/bluejoe/.m2/repository/org/eclipse/jetty/jetty-http/9.4.8.v20171121/jetty-http-9.4.8.v20171121.jar:/Users/bluejoe/.m2/repository/org/eclipse/jetty/jetty-util/9.4.8.v20171121/jetty-util-9.4.8.v20171121.jar:/Users/bluejoe/.m2/repository/org/eclipse/jetty/jetty-io/9.4.8.v20171121/jetty-io-9.4.8.v20171121.jar:/Users/bluejoe/.m2/repository/org/eclipse/jetty/jetty-servlet/9.4.8.v20171121/jetty-servlet-9.4.8.v20171121.jar:/Users/bluejoe/.m2/repository/org/eclipse/jetty/jetty-security/9.4.8.v20171121/jetty-security-9.4.8.v20171121.jar:/Users/bluejoe/.m2/repository/org/codehaus/jackson/jackson-jaxrs/1.9.13/jackson-jaxrs-1.9.13.jar:/Users/bluejoe/.m2/repository/org/codehaus/jackson/jackson-core-asl/1.9.13/jackson-core-asl-1.9.13.jar:/Applications/IntelliJ IDEA 15.app/Contents/lib/idea_rt.jar",
    "com.intellij.rt.execution.application.AppMain", "AipmProcess");

  @Test
  def main(args: Array[String]) {
    val epf = new ExternalProcessFunctor(cmds, Array("name"));
    val map = epf.predict(Blob.fromFile(new File("./test.png")));
    println(map);
  }
}

object AipmProcess {
  def main(args: Array[String]) {
    var n = 0L;
    do {
      n = System.in.readLong();
      if (n >= 0) {
        val bs = System.in.readBytes(n.toInt);
        System.out.println(s"""{"length": $n}""");
      }
    } while (n > 0)
  }
}